# cbindgen Configuration for GoudEngine
# This file configures C header generation for FFI types.
# Generated header can be used by other languages (Python ctypes, Go cgo, etc.)

# Language to output (C is more portable than C++)
language = "C"

# Include header guard
include_guard = "GOUD_ENGINE_H"

# Add pragma once for modern compilers
pragma_once = true

# Header documentation
header = """/*
 * GoudEngine C FFI Header
 * 
 * This header is auto-generated by cbindgen during the build process.
 * Do not modify manually - changes will be overwritten.
 * 
 * This header provides C-compatible type definitions and function declarations
 * for interacting with the GoudEngine from other languages (Python, Go, etc.).
 * 
 * For C# bindings, use NativeMethods.g.cs (generated by csbindgen).
 * For Python bindings, use sdks/python/goud_engine/bindings.py.
 */"""

# Auto-generation warning
autogen_warning = "/* WARNING: This file is auto-generated. Do not modify manually. */"

# Include version info
include_version = true

# Trailer text
trailer = """
/* End of GoudEngine FFI Header */"""

# Don't include standard library headers (we define our own types)
no_includes = false

# System includes needed
sys_includes = ["stdint.h", "stdbool.h", "stddef.h"]

# Code style
braces = "SameLine"
line_length = 100
tab_width = 4
documentation = true
documentation_style = "c99"

# Use typedef for structs (C style)
style = "both"

[export]
# Only export items that start with these prefixes
prefix = ""

# Items to include explicitly
include = [
    # FFI Types
    "GoudEntityId",
    "GoudResult",
    "GoudContextId",
    "FfiTransform2D",
    "FfiVec2",
    "FfiMat3x3",
    "FfiSprite",
    "FfiColor",
    "FfiRect",
    "FfiTransform2DBuilder",
    "FfiSpriteBuilder",
]

# Items to exclude (internal types, complex generics)
exclude = [
    "GoudError",
    "GoudContextHandle",
    "GoudContextRegistry",
    "Entity",
    "World",
    "Transform2D",
    "Sprite",
    "Color",
    "Vec2",
    "Rect",
    "Mat3x3",
]

# Rename exports for cleaner C API
[export.rename]

[fn]
# Function style
args = "horizontal"

# Rename function arguments to camelCase
rename_args = "None"

[struct]
# Don't rename struct fields (keep snake_case for FFI consistency)
rename_fields = "None"

[enum]
# Keep enum variants as-is
rename_variants = "None"

[parse]
# Parse dependencies
parse_deps = false

# Don't expand macros (keep it simple)
clean = false

# Only parse the main crate
extra_bindings = []

[parse.expand]
# Don't expand any crates
crates = []
